---
title: Jaeger
description:
---

import TextList  from '@/components/docs/TextList'
import Code  from '@/components/docs/Code'

下面我们一起来看看该如何从 <Code>Jaeger</Code> 中查询变量。

最终结果如下，可以像 Jaeger 自带的 UI 那样，在下拉选择框中选择 service 列表:

<img src={require('@/img/docs/variable/jaeger-services.jpg').default.src} alt="jaeger-services"  className="rounded-lg ring-1 ring-black/5" style={{height: "400px"}} />


> 在开始之前，你需要先启动一个 <Code>Jaeger</Code> 实例，参考 https://www.jaegertracing.io/ 了解更多信息。

## Jaeger services 

Services 可以在很多仪表盘中使用，比如 `Application info`, `hosts info`, `JVM info`, `SQL stats` 等，它是监控系统的核心对象，相当于 Application 应用的概念

因此，我们可以为其创建一个全局变量: 

1. 点击侧边导航栏下方的 `配置` 图表，然后选择变量标签页
2. 创建一个名为 `services` 的全局变量:

<img src={require('@/img/docs/variable/edit-jaeger-services.jpg').default.src} alt="edit-jaeger-services"  className="rounded-lg ring-1 ring-black/5" style={{height: "500px"}} />


点击 `提交` 按钮并前往一个仪表盘，你应该看到如下的变量：

<img src={require('@/img/docs/variable/jaeger-services-dropdown.jpg').default.src} alt="jaeger-services-dropdown"  className="rounded-lg ring-1 ring-black/5" style={{height: "300px"}} />


跟 Jaeger UI 中的 services 列表一模一样 ！

## Jaeger operations

Operations 是 services 里面的概念，你可以理解为应用内的 HTTP API 列表，它的创建方式跟上面很相似:

<img src={require('@/img/docs/variable/edit-jaeger-operations.jpg').default.src} alt="edit-jaeger-operations"  className="rounded-lg ring-1 ring-black/5" style={{height: "500px"}} />


唯一的区别在于，你需要在 `Service` 下拉选择框中选择一个服务。

> 可以看到 services 的输入值是支持变量的，因此我们在这里使用 <Code>{'${services}'}</Code> 来引用上面创建的 `services` 变量。

## 最终效果 

<video controls autoPlay src="/docs/jaeger-final.mov" />


如上所示，当我们选择一个 `service` 应用后，`operation` 变量的值也会随之自动变化，同时相应的 Traces 也会重新被查询，完美！