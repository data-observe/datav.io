---
title: 图表注释
description: 
---

import TextList  from '@/components/docs/TextList'
import Code  from '@/components/docs/Code'

使用图表注释( annotation )，你可以为 Graph 图表在指定的位置打上标记，并辅以文字注释：

<img src={require('@/img/docs/panel/annotation-demo1.jpg').default.src} alt="annotation-demo1" style={{height: '300px'}} className="rounded-lg ring-1 ring-black/5" />


如上图所示，天蓝色的线和区域都是我们的注释，下面一起来看看.

> 图表注释只能在 <Code>Graph</Code> 类型中使用

## 图表注释

### 创建注释

1. 创建一个新的图表，打开图表编辑面板，选择 `Graph` 类型，然后返回仪表盘页面
2. 在 Graph 图表上点击鼠标，你可以看到如下的菜单弹出:

<img src={require('@/img/docs/panel/annotation-context-menu.jpg').default.src} alt="annotation-context-menu" style={{height: '300px'}} className="rounded-lg ring-1 ring-black/5" />


3. 点击 `Add annotation` 按钮, 一个注释编辑器顺势弹出:

<img src={require('@/img/docs/panel/annotation-editor.jpg').default.src} alt="annotation-editor" style={{height: '300px'}} className="rounded-lg ring-1 ring-black/5" />


4. 其中，`Duration` 字段是注释持续的时间，如果你想要一根直线类型的注释，就填写 `0s`, 我们这里设置为 `2m`。

填写完成并点击 `提交` 按钮，你将看到图表上出现了我们刚添加的注释：

<img src={require('@/img/docs/panel/annotation-hover.jpg').default.src} alt="annotation-hover" style={{height: '300px'}} className="rounded-lg ring-1 ring-black/5" />


> **图表注释无需保存仪表盘，创建、编辑、删除都是立即生效**

### 查看注释内容

在上一张图片中，可以看到有一个箭头指向了注释标记，如果将数据悬浮在该标记上，就能看到一个弹出框，里面有注释的详细信息。

### 编辑注释

在上一步弹出的详细信息中，点击右上角的 `编辑` 图标，就能打开注释的编辑弹出框。在这里，让我们把 `Duration` 修改为 `1m` 看看最新的效果。


### 删除注释

点击 `查看注释内容` 弹出的详细信息右上角的 `垃圾桶` 图标，可以直接删除注释。

## 管理图表注释

总是通过图表来管理注释很不方便，因此 xObserve 提供了更便捷的管理方式：

1. 点击图表的标题区域，打开图表菜单，选择 `Debug 图表`

<img src={require('@/img/docs/panel/debug-panel-menu.jpg').default.src} alt="debug-panel-menu" style={{height: '300px'}} className="rounded-lg ring-1 ring-black/5" />


2. 选择 `Panel Annotations` 标签页 

此时你可以看到一个注释列表，这些注释仅限于当前的图表和已选择的时间范围。


## 设置

打开仪表盘的设置面板，选择 `Annotation` 标签页，可以看到如下图片内容：

<img src={require('@/img/docs/panel/annotation-setting.jpg').default.src} alt="annotation-setting" style={{height: '300px'}} className="rounded-lg ring-1 ring-black/5" />


你可以尝试：
<TextList>
    <li>修改注释标记的颜色</li>
    <li>为注释增加一些标签，然后在这里通过标签来控制哪些注释能被显示</li>
</TextList>


## 关联告警到图表

在之前的[章节](/docs/tutorial-alert#correlate-alerts-to-graph-panel)中, 我们了解了该如何将告警关联到 `Graph` 图表。

当时没有详细讲解相应的标记，但是现在回想起来，可以发现那些标记就是 `注释`，但是与本章手动创建的注释相比，你无法修改告警关联的，原因在于它们并没有被保存在数据库，而是由 xObserve 自动生成。